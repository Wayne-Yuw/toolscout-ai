# ToolScout AI - 产品设计文档 v1.0

## 📌 产品概述

### 产品定位
ToolScout AI 是一个专为**工具测评类内容创作者**设计的 AI 助手,能够快速分析工具网站,提供多角度的人群拆解,并生成可直接使用的短视频文案。

### 核心价值主张
> 输入工具网站 URL 或名称 → 10 秒获得多角度人群拆解 → 选择角度 → 一键生成短视频文案 → 推荐同类工具

### 目标用户
- 工具测评类自媒体创作者(抖音/小红书/B站/视频号)
- 做工具导航/推荐的运营者
- 需要快速了解竞品的产品经理

---

## 🎯 核心功能模块

### 模块 1:智能搜索 + URL 分析

**功能描述:**
- 支持两种输入方式:
  1. 直接输入完整的工具网站 URL
  2. 输入工具名称,系统自动搜索并展示多个结果供用户选择

**关键特性:**
- ✅ 智能识别输入类型(URL / 工具名 / 模糊描述)
- ✅ 实时搜索(防抖 500ms)
- ✅ 搜索结果 AI 排序(优先展示官网)
- ✅ 页面预览功能(截图 + AI 摘要 + 适合度评估)
- ✅ 热门工具快速入口

---

### 模块 2:工具深度拆解

**功能描述:**
从工具网站中提取并分析核心信息,生成结构化的分析报告。

**输出内容:**

1. **工具概览**(3-5 句话)
   - 核心定位和差异化价值
   - 用有画面感的语言描述
   - 指出解决的核心痛点

2. **适合人群拆解**(5-8 个人群)
   每个人群包含:
   - 人群标签(如"学生党""职场人")+ emoji
   - 3 个核心痛点关键词(3-5 字)
   - 工具如何帮助他们(3-5 个能力点)

3. **同类工具推荐**(折叠展示)
   - 功能类似工具(竞品对比)
   - 受众类似工具(用户重合度高)

---

### 模块 3:短视频文案生成

**功能描述:**
根据用户选择的人群角度和文案风格,生成可直接使用的短视频文案。

**工作流:**
```
用户选择人群 → 选择文案风格 → 选择目标平台 → 生成文案
```

**文案风格(4 种预设 + 自定义):**
1. 💡 **干货型** - 直接讲功能,快节奏,信息密度高
2. 🎭 **剧情型** - 讲故事,有代入感,情感化
3. ⚔️ **对比型** - 多工具 PK,突出差异
4. 🔥 **痛点共鸣型** - 先戳痛点再给方案,情绪拉满
5. 📚 **自定义** - 用户上传示例,AI 仿写

**目标平台适配(4 个):**
- 抖音(30-60 秒,快节奏,前 3 秒抓眼球)
- 小红书(60-90 秒,干货+美感,精致感)
- B站(3-10 分钟,深度讲解,专业感)
- 视频号(60 秒,中性专业,可信度)

**文案结构(固定四段式):**
1. **开头钩子**(0-3 秒)- 立刻抓住注意力
2. **痛点共鸣**(3-10 秒)- 让观众觉得"说的就是我"
3. **解决方案**(10-40 秒)- 展示工具如何解决问题
4. **行动召唤**(40-60 秒)- 引导互动

**关键创新:📷 画面提示**
- 每段文案都附带"画面提示",告诉创作者拍什么
- 例如:"📷 画面提示:快速闪过各种混乱的笔记截图"

---

### 模块 4:历史记录 + 多格式导出

**功能描述:**
自动保存每次分析的结果,支持查看历史记录和多格式导出。

**历史记录功能:**
- 按时间倒序展示
- 显示工具名、分析时间、生成内容数量
- 支持快速查看、导出、删除

**导出格式(5 种):**
1. Markdown (.md) - 适合笔记软件(Notion/Obsidian)
2. Word (.docx) - 适合编辑和打印
3. PDF (.pdf) - 适合存档和分享
4. JSON (.json) - 适合二次开发
5. 纯文本 (.txt) - 最简单的格式

**导出内容包含:**
- 工具概览
- 人群拆解(所有角度)
- 已生成的短视频文案
- 同类工具推荐

---

## 🎨 页面设计与交互流程

### 页面 1:首页(搜索入口)

```
┌─────────────────────────────────────────────────────┐
│  ToolScout AI  [历史记录] [设置]                      │
├─────────────────────────────────────────────────────┤
│                                                       │
│  🔍 输入工具名称或网站 URL 开始分析                   │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  ┌───────────────────────────────────────────┐      │
│  │  🔍 Notion                         [搜索]  │      │
│  └───────────────────────────────────────────┘      │
│                                                       │
│  💡 提示:                                             │
│  • 输入工具名称,我们帮你找官网                        │
│  • 或直接粘贴完整 URL 立即分析                        │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  🔥 热门工具(点击直接分析)                            │
│                                                       │
│  [Notion] [ChatGPT] [Figma] [Canva] [Obsidian]      │
│  [Trello] [Airtable] [Miro] ...                     │
│                                                       │
└─────────────────────────────────────────────────────┘
```

**交互逻辑:**
1. 用户输入内容
2. 系统智能识别:
   - 如果是完整 URL → 直接进入分析页
   - 如果是工具名 → 触发搜索,展示结果
3. 防抖 500ms(避免频繁请求)

---

### 页面 2:搜索结果页(新增)

```
┌─────────────────────────────────────────────────────┐
│  🔍 搜索结果:Notion                     [返回重新搜索]│
├─────────────────────────────────────────────────────┤
│                                                       │
│  找到 3 个相关结果,请选择你要分析的页面:              │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  ┌─────────────────────────────────────────────┐   │
│  │ ✅ 推荐 #1                                    │   │
│  │                                               │   │
│  │ 📌 Notion - Your connected workspace          │   │
│  │ 🔗 https://www.notion.so                      │   │
│  │                                               │   │
│  │ 📄 页面预览:                                  │   │
│  │ ┌───────────────────────────────────────┐   │   │
│  │ │ [缩略图]                               │   │   │
│  │ │ • Write, plan, and get organized...   │   │
│  │ │ • Connect your teams...               │   │
│  │ └───────────────────────────────────────┘   │   │
│  │                                               │   │
│  │ 💡 这是 Notion 的官方网站(英文)               │   │
│  │                                               │   │
│  │         [选择这个] [预览完整页面]             │   │
│  └─────────────────────────────────────────────┘   │
│                                                       │
│  [其他结果卡片...]                                    │
│                                                       │
│  [没有我要的结果,手动输入 URL]                       │
│                                                       │
└─────────────────────────────────────────────────────┘
```

**每个搜索结果卡片包含:**
- 推荐标识(第一个结果标注"✅ 推荐")
- 页面标题(从 `<title>` 提取)
- URL
- 页面预览(缩略图 + 摘要)
- AI 生成的说明(这是什么页面)
- 操作按钮([选择这个] [预览完整页面])

---

### 页面 3:工具分析报告页

```
┌─────────────────────────────────────────────────────┐
│  ← 返回   Notion 分析报告          [导出] [收藏]      │
├─────────────────────────────────────────────────────┤
│                                                       │
│  📌 工具概览                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  Notion 是一个集笔记、知识库、项目管理于一体的        │
│  「all-in-one 工作空间」。它最大的亮点是灵活性——      │
│  你可以像搭积木一样,把不同的模块组合成适合自己的      │
│  工作流。                                             │
│                                                       │
│  💡 核心痛点:传统笔记工具太单一,项目管理工具太       │
│     复杂,Notion 想做那个"刚刚好"的中间选择。         │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  🎯 适合人群拆解(点击卡片生成文案)                    │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐  │
│  │ 👨‍🎓 学生党 │ │ 💼 职场人 │ │ 👩‍👧 宝妈   │ │ 📝 自媒体│  │
│  │         │ │         │ │         │ │         │  │
│  │ 笔记混乱 │ │ 多工具  │ │ 时间碎片│ │ 内容管理│  │
│  │ 学习低效 │ │ 切换烦  │ │ 信息多  │ │ 选题难  │  │
│  │ 想系统化 │ │ 协作难  │ │ 想高效  │ │ 需要库  │  │
│  │         │ │         │ │         │ │         │  │
│  │ [选择] │ │ [选择] │ │ [选择] │ │ [选择] │  │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘  │
│                                                       │
│  [展开更多人群]                                       │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  🔗 同类工具推荐 (点击展开)                           │
│                                                       │
└─────────────────────────────────────────────────────┘
```

**交互逻辑:**
- 用户点击任一人群卡片 → 进入文案生成页
- 默认展示 5-7 个人群,按契合度排序
- 点击"展开更多人群"显示所有角度

---

### 页面 4:文案生成页

```
┌─────────────────────────────────────────────────────┐
│  ← 返回分析   Notion × 学生党 文案生成                │
├─────────────────────────────────────────────────────┤
│                                                       │
│  🎯 选定角度:学生党的笔记管理痛点                     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  核心痛点:笔记散落各处,复习时找不到,想系统化学习     │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  📝 选择文案风格                                      │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  ┌────────────┐ ┌────────────┐ ┌────────────┐      │
│  │ 💡 干货型   │ │ 🎭 剧情型   │ │ ⚔️ 对比型   │      │
│  │ [选择]     │ │ [选择]     │ │ [选择]     │      │
│  └────────────┘ └────────────┘ └────────────┘      │
│                                                       │
│  ┌────────────┐ ┌────────────┐                      │
│  │ 🔥 痛点共鸣型│ │ 📚 自定义   │                      │
│  │ [选择]     │ │ [选择]     │                      │
│  └────────────┘ └────────────┘                      │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  🎬 目标平台                                          │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  ○ 抖音  ○ 小红书  ○ B站  ○ 视频号                  │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│            [生成文案]                                 │
│                                                       │
└─────────────────────────────────────────────────────┘
```

**交互逻辑:**
1. 用户选择风格 → 选择平台 → 点击"生成文案"
2. 如果选择"自定义",弹出模态框让用户上传示例
3. 生成时间约 10-15 秒,显示加载动画

---

### 页面 5:生成的文案展示页

```
┌─────────────────────────────────────────────────────┐
│  ← 返回   生成的文案           [复制] [编辑] [导出]   │
├─────────────────────────────────────────────────────┤
│                                                       │
│  🎬 短视频文案(抖音 × 干货型)                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  【开头钩子】(0-3秒)                                  │
│  ┌─────────────────────────────────────────────┐   │
│  │ "你的笔记是不是这样的:微信收藏夹、备忘录...   │   │
│  │                                                 │   │
│  │ 📷 画面提示:快速闪过各种混乱的笔记截图          │   │
│  └─────────────────────────────────────────────┘   │
│                                                       │
│  【痛点共鸣】(3-10秒)                                 │
│  ┌─────────────────────────────────────────────┐   │
│  │ "我之前也是这样,明明记了很多笔记..."          │   │
│  │                                                 │   │
│  │ 📷 画面提示:博主自己翻找笔记的场景              │   │
│  └─────────────────────────────────────────────┘   │
│                                                       │
│  [其他段落...]                                        │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  💡 SEO 关键词建议                                    │
│  #笔记管理 #学习方法 #Notion教程 #学生党必备         │
│                                                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━        │
│                                                       │
│  [重新生成] [生成其他风格版本] [导出为 Markdown]     │
│                                                       │
└─────────────────────────────────────────────────────┘
```

**交互逻辑:**
- [复制]:一键复制全部文案
- [编辑]:进入编辑模式,可修改文案
- [导出]:导出为 Markdown/Word/PDF
- [重新生成]:用相同参数重新生成(结果会有变化)
- [生成其他风格版本]:切换风格重新生成

---

## 🔧 技术实现方案

### 技术架构图

```
┌─────────────────────────────────────────────────────┐
│                     前端 (Next.js)                    │
│  - 响应式 UI (Tailwind CSS + shadcn/ui)              │
│  - 状态管理 (Zustand)                                │
│  - 实时搜索 (防抖)                                    │
└─────────────────────────────────────────────────────┘
                          ↓ ↑ (REST API)
┌─────────────────────────────────────────────────────┐
│                 API 网关 (FastAPI)                    │
│  - 路由分发                                           │
│  - 请求验证                                           │
│  - 速率限制                                           │
└─────────────────────────────────────────────────────┘
                          ↓ ↑
┌─────────────────────────────────────────────────────┐
│                   后端服务层                          │
│  ┌─────────────────┐  ┌─────────────────┐          │
│  │ 搜索服务         │  │ 网页解析服务     │          │
│  │ - Google CSE    │  │ - Jina Reader   │          │
│  │ - AI 排序       │  │ - Playwright    │          │
│  └─────────────────┘  └─────────────────┘          │
│                                                       │
│  ┌─────────────────┐  ┌─────────────────┐          │
│  │ AI 分析引擎      │  │ 文案生成服务     │          │
│  │ - Claude Sonnet │  │ - GPT-4o        │          │
│  │ - 人群拆解      │  │ - 风格仿写      │          │
│  └─────────────────┘  └─────────────────┘          │
│                                                       │
│  ┌─────────────────┐  ┌─────────────────┐          │
│  │ 推荐引擎         │  │ 导出服务         │          │
│  │ - 向量搜索      │  │ - Markdown      │          │
│  │ - 相似度计算    │  │ - Word/PDF      │          │
│  └─────────────────┘  └─────────────────┘          │
└─────────────────────────────────────────────────────┘
                          ↓ ↑
┌─────────────────────────────────────────────────────┐
│                     数据层                            │
│  ┌─────────────────┐  ┌─────────────────┐          │
│  │ PostgreSQL      │  │ Redis           │          │
│  │ - 工具数据      │  │ - 缓存          │          │
│  │ - 用户数据      │  │ - 会话          │          │
│  │ - 文案历史      │  │                 │          │
│  └─────────────────┘  └─────────────────┘          │
│                                                       │
│  ┌─────────────────┐  ┌─────────────────┐          │
│  │ 向量数据库       │  │ 对象存储 (S3)    │          │
│  │ (Qdrant/Pinecone│  │ - 截图          │          │
│  └─────────────────┘  └─────────────────┘          │
└─────────────────────────────────────────────────────┘
```

---

### 核心技术栈

**前端:**
- **框架:** Next.js 15 (React)
- **UI 库:** Tailwind CSS + shadcn/ui
- **状态管理:** Zustand
- **HTTP 客户端:** Axios / Fetch API
- **Markdown 渲染:** react-markdown
- **代码高亮:** Prism.js

**后端:**
- **框架:** Python FastAPI
- **数据库:** PostgreSQL
- **缓存:** Redis
- **向量数据库:** Qdrant(开源)或 Pinecone(托管)
- **对象存储:** AWS S3 / MinIO(自托管)

**外部服务:**
- **搜索 API:** Google Custom Search API / Brave Search API
- **网页抓取:** Jina AI Reader / Firecrawl
- **网页截图:** Playwright
- **大模型 API:**
  - Claude 3.5 Sonnet(深度分析)
  - GPT-4o(文案生成)
  - GPT-4o-mini(排序、推荐等轻量任务)

**部署:**
- **前端:** Vercel
- **后端:** Railway / Fly.io / 自托管 Docker
- **数据库:** Supabase / Railway Postgres

---

### 数据库设计

#### 表 1: tools(工具信息)

```sql
CREATE TABLE tools (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    url TEXT NOT NULL UNIQUE,
    name TEXT,
    overview TEXT,
    core_pain_point TEXT,
    analysis_data JSONB,  -- 完整的分析结果
    screenshot_url TEXT,
    favicon_url TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_tools_url ON tools(url);
CREATE INDEX idx_tools_name ON tools(name);
```

#### 表 2: audiences(人群拆解)

```sql
CREATE TABLE audiences (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tool_id UUID REFERENCES tools(id) ON DELETE CASCADE,
    label TEXT NOT NULL,
    emoji TEXT,
    pain_points TEXT[],
    solutions TEXT[],
    match_score FLOAT,  -- 契合度评分(0-100)
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_audiences_tool_id ON audiences(tool_id);
```

#### 表 3: scripts(生成的文案)

```sql
CREATE TABLE scripts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    tool_id UUID REFERENCES tools(id) ON DELETE CASCADE,
    audience_id UUID REFERENCES audiences(id) ON DELETE CASCADE,
    style TEXT NOT NULL,  -- 干货型/剧情型/对比型/痛点共鸣型/自定义
    platform TEXT NOT NULL,  -- 抖音/小红书/B站/视频号
    content JSONB NOT NULL,  -- 结构化文案内容
    keywords TEXT[],  -- SEO 关键词
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_scripts_tool_id ON scripts(tool_id);
CREATE INDEX idx_scripts_audience_id ON scripts(audience_id);
```

#### 表 4: search_results(搜索结果缓存)

```sql
CREATE TABLE search_results (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    query TEXT NOT NULL,
    results JSONB NOT NULL,  -- 搜索结果列表
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_search_results_query ON search_results(query);
-- 定期清理 7 天前的数据
```

#### 表 5: user_preferences(用户偏好,可选)

```sql
CREATE TABLE user_preferences (
    user_id UUID PRIMARY KEY,
    custom_styles JSONB,  -- 自定义风格示例
    favorite_tools UUID[],  -- 收藏的工具
    settings JSONB,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

---

### API 接口设计

#### 1. 搜索工具

**请求:**
```
POST /api/search
Content-Type: application/json

{
  "query": "Notion"
}
```

**响应:**
```json
{
  "query": "Notion",
  "results": [
    {
      "title": "Notion - Your connected workspace",
      "url": "https://www.notion.so",
      "snippet": "Write, plan, and get organized...",
      "favicon": "https://...",
      "preview": {
        "screenshot": "https://...",
        "og_image": "https://..."
      },
      "ai_analysis": {
        "is_official": true,
        "description": "这是 Notion 的官方网站",
        "score": 95
      }
    }
  ]
}
```

---

#### 2. 生成页面预览

**请求:**
```
POST /api/preview
Content-Type: application/json

{
  "url": "https://www.notion.so"
}
```

**响应:**
```json
{
  "url": "https://www.notion.so",
  "screenshot": "https://storage.../screenshot.png",
  "summary": "这是 Notion 的官方网站,主要介绍...",
  "suitability": {
    "is_official": true,
    "has_product_info": true,
    "content_richness": "rich"
  },
  "recommendation": {
    "level": "high",
    "reason": "内容丰富,包含完整的产品介绍"
  }
}
```

---

#### 3. 分析工具

**请求:**
```
POST /api/analyze
Content-Type: application/json

{
  "url": "https://www.notion.so"
}
```

**响应:**
```json
{
  "tool_id": "uuid-xxx",
  "url": "https://www.notion.so",
  "name": "Notion",
  "overview": "Notion 是一个集笔记、知识库...",
  "core_pain_point": "传统笔记工具太单一...",
  "audiences": [
    {
      "id": "uuid-yyy",
      "label": "学生党",
      "emoji": "👨‍🎓",
      "pain_points": ["笔记混乱", "学习低效", "想系统化"],
      "solutions": [
        "构建知识体系",
        "一站式学习管理",
        "多设备同步"
      ],
      "match_score": 92
    }
  ],
  "recommendations": {
    "similar_by_feature": [...],
    "similar_by_audience": [...]
  }
}
```

---

#### 4. 生成文案

**请求:**
```
POST /api/generate-script
Content-Type: application/json

{
  "tool_id": "uuid-xxx",
  "audience_id": "uuid-yyy",
  "style": "dry_goods",  // dry_goods/story/comparison/pain_point/custom
  "platform": "douyin",  // douyin/xiaohongshu/bilibili/shipinhao
  "custom_examples": []  // 如果 style=custom,需要提供示例
}
```

**响应:**
```json
{
  "script_id": "uuid-zzz",
  "style": "dry_goods",
  "platform": "douyin",
  "content": {
    "hook": {
      "text": "你的笔记是不是这样的...",
      "visual_hint": "快速闪过各种混乱的笔记截图",
      "duration": "0-3秒"
    },
    "pain_point": {
      "text": "我之前也是这样...",
      "visual_hint": "博主自己翻找笔记的场景",
      "duration": "3-10秒"
    },
    "solution": {
      "text": "后来我发现了 Notion...",
      "visual_hint": "演示 Notion 功能",
      "duration": "10-40秒"
    },
    "cta": {
      "text": "如果你也想告别笔记混乱...",
      "visual_hint": "引导点赞收藏",
      "duration": "40-60秒"
    }
  },
  "keywords": ["#笔记管理", "#学习方法", "#Notion教程"],
  "estimated_duration": "60秒"
}
```

---

#### 5. 导出分析报告

**请求:**
```
POST /api/export
Content-Type: application/json

{
  "tool_id": "uuid-xxx",
  "format": "markdown"  // markdown/word/pdf/json/txt
}
```

**响应:**
```json
{
  "download_url": "https://storage.../notion_analysis.md",
  "expires_at": "2025-11-06T12:00:00Z"
}
```

---

## 📊 MVP 开发计划

### 阶段 1: 核心功能 MVP(2-3 周)

**目标:** 跑通核心流程,验证产品价值

**功能范围:**
- ✅ 输入 URL(不支持搜索)
- ✅ 工具分析报告(概览 + 人群拆解)
- ✅ 生成一种风格的文案(干货型)
- ✅ 支持一个平台(抖音)
- ❌ 暂不支持:搜索、自定义风格、多平台、导出

**技术简化:**
- 前端:Next.js + Tailwind CSS
- 后端:Python FastAPI
- 数据库:PostgreSQL(Supabase)
- 不需要向量数据库
- 不需要截图功能

**验证目标:**
- 分析结果准确度 ≥ 80%
- 文案可用性 ≥ 70%(可直接用或只需微调)
- 完整流程耗时 < 2 分钟

---

### 阶段 2: 完善体验(2-4 周)

**新增功能:**
- ✅ 智能搜索(支持工具名输入)
- ✅ 搜索结果 AI 排序
- ✅ 支持 4 种文案风格
- ✅ 支持 4 个平台
- ✅ 历史记录功能
- ✅ 基础导出(Markdown/JSON)

**优化重点:**
- 提升分析速度(< 30 秒)
- 优化 Prompt,提升文案质量
- 增加画面提示的细节

---

### 阶段 3: 高级功能(4+ 周)

**新增功能:**
- ✅ 页面预览(截图 + AI 评估)
- ✅ 自定义风格(用户上传示例仿写)
- ✅ 完整导出(Word/PDF)
- ✅ 同类工具推荐(向量数据库)
- ✅ 批量分析(一次分析多个工具)
- ✅ Chrome 插件(右键分析任何页面)

---

## 💰 成本估算

### API 调用成本(单次分析)

| 服务 | 模型/API | 用途 | 成本(人民币) |
|------|---------|------|-------------|
| 搜索 | Google CSE | 工具搜索 | ¥0.04(免费 100 次/天) |
| 网页抓取 | Jina Reader | 内容提取 | 免费 |
| AI 分析 | Claude Sonnet 3.5 | 人群拆解 | ¥0.20 |
| AI 排序 | GPT-4o-mini | 搜索结果排序 | ¥0.01 |
| 文案生成 | GPT-4o | 生成文案 | ¥0.15 |
| 截图(可选)| Playwright | 页面预览 | ¥0.05(自托管成本) |
| **总计** | | **单次完整流程** | **¥0.45** |

### 月度运营成本(假设 1000 次分析/月)

| 项目 | 成本 |
|------|------|
| API 调用(1000 次 × ¥0.45) | ¥450 |
| 服务器(Railway/Fly.io) | ¥100-200 |
| 数据库(Supabase) | ¥0(免费额度) |
| 对象存储(S3) | ¥20 |
| 域名 | ¥10/月 |
| **总计** | **¥580-680/月** |

### 定价建议

**免费版:**
- 10 次分析/月
- 只能生成干货型文案
- 只支持 Markdown 导出

**专业版:¥49/月 或 ¥399/年**
- 无限次分析
- 所有文案风格
- 所有平台
- 所有导出格式
- 自定义风格

**企业版:¥299/月**
- 团队协作
- API 访问
- 优先支持

---

## 🎯 成功指标

### 产品指标

1. **分析准确度** ≥ 85%
   - 人群拆解的契合度
   - 痛点总结的准确性

2. **文案可用性** ≥ 80%
   - 用户可以直接用或只需微调

3. **用户留存**
   - 7 日留存率 ≥ 40%
   - 30 日留存率 ≥ 20%

4. **使用频率**
   - 活跃用户平均每周使用 2-3 次

### 技术指标

1. **响应速度**
   - 搜索结果 < 2 秒
   - 分析报告 < 30 秒
   - 文案生成 < 15 秒

2. **系统稳定性**
   - 可用性 ≥ 99%
   - 错误率 < 1%

---

## 🚨 风险与应对

### 风险 1: 网页抓取失败

**应对:**
- 提供多种抓取方案(Jina + Playwright)
- 允许用户手动粘贴内容
- 支持上传网页截图

### 风险 2: AI 生成质量不稳定

**应对:**
- 持续优化 Prompt
- 生成多版本让用户选择
- 用户反馈循环

### 风险 3: 成本过高

**应对:**
- 缓存机制(24 小时内不重复分析)
- 模型分级(非关键任务用 mini)
- 用户分级定价

---

## 📝 开发优先级

**P0(必须有):**
- ✅ URL 输入 + 分析
- ✅ 人群拆解
- ✅ 文案生成(1 种风格)

**P1(很重要):**
- ✅ 智能搜索
- ✅ 多风格支持
- ✅ 历史记录

**P2(重要):**
- ✅ 页面预览
- ✅ 导出功能
- ✅ 同类工具推荐

**P3(可选):**
- 自定义风格
- 批量分析
- Chrome 插件

---

## 📚 附录:Prompt 模板

### Prompt 1: 工具分析

```
你是一个资深的工具测评师。现在你需要深度分析一个工具网站。

【工具网站信息】
URL: {url}
网页内容: {content_markdown}

【你的任务】
1. 生成一个吸引人的工具概览(3-5句话)
   - 突出核心定位和差异化价值
   - 用有画面感的语言
   - 指出它解决的核心痛点

2. 拆解适合的人群(至少5个,最多8个)
   对每个人群,输出:
   - 人群标签(如"学生党""职场人")
   - 3个核心痛点关键词(3-5字)
   - 这个工具如何帮助他们(3-5个能力点)
   - 契合度评分(0-100)

【输出格式】
严格按照 JSON 格式输出:
{
  "overview": "工具概览文案",
  "core_pain_point": "核心痛点描述",
  "target_audiences": [
    {
      "label": "学生党",
      "emoji": "👨‍🎓",
      "pain_points": ["笔记混乱", "学习低效", "想系统化"],
      "solutions": ["构建知识体系", "一站式学习管理", "多设备同步"],
      "match_score": 92
    }
  ]
}
```

### Prompt 2: 文案生成

```
你是一个专业的短视频文案创作者。

【任务信息】
工具名称: {tool_name}
目标人群: {audience_label}
人群痛点: {pain_points}
工具能力: {solutions}
文案风格: {style}
目标平台: {platform}

【文案要求】
1. 总时长: {duration} 秒
2. 必须包含四个部分:
   - 开头钩子(0-3秒)
   - 痛点共鸣(3-10秒)
   - 解决方案(10-40秒)
   - 行动召唤(40-60秒)

3. 每个部分都要标注"📷 画面提示"

4. 语言风格符合{platform}特点

【输出格式】
JSON 格式,包含 hook/pain_point/solution/cta 四部分
```

---

**文档版本:** v1.0
**创建时间:** 2025-11-05
**作者:** Pux AI Product Designer
**状态:** 待评审

---

## 🔐 模块 5: 用户认证与会员系统

### 核心功能
ToolScout AI 支持完整的用户认证和会员订阅体系,为用户提供差异化的功能访问权限。

### 5.1 认证方式

**支持的登录方式:**
1. **用户名+密码登录** - 传统注册登录方式
2. **手机号+验证码登录** - 快速登录,手机号为唯一身份凭证
3. **Google OAuth** - 第三方授权登录
4. **GitHub OAuth** - 开发者友好的登录方式

**关键特性:**
- ✅ 手机号为唯一身份凭证,所有账号必须绑定手机号
- ✅ 第三方OAuth账号首次登录需强制绑定手机号
- ✅ 支持手机号验证码快速登录/注册
- ✅ 完善的密码强度要求和安全措施
- ✅ 支持密码重置和手机号更换

### 5.2 会员等级体系

```
┌──────────────────────────────────────────────────────────┐
│  免费版        基础版         专业版         企业版      │
│  Free         Basic          Pro           Enterprise   │
│  ¥0/月        ¥29/月         ¥99/月        ¥499/月       │
├──────────────────────────────────────────────────────────┤
│  3次/天       20次/天        无限次        无限次        │
│  分析          分析           分析          分析          │
│                                                          │
│  3个角度      8个角度        不限角度      不限角度      │
│  人群拆解      人群拆解        人群拆解      人群拆解      │
│                                                          │
│  1种风格      4种风格        所有风格      所有风格      │
│  文案          文案           +自定义       +自定义       │
│                                                          │
│  保留7天      保留30天       永久保存      永久保存      │
│  历史          历史           历史          历史          │
│                                                          │
│  MD导出       MD/Word/       所有格式      所有格式      │
│  (带水印)      PDF导出        无水印        无水印        │
│                                                          │
│              邮件支持        优先支持      专属客户经理  │
│                             1000次/月      10000次/月    │
│                             API调用       API调用       │
│                                           5个席位        │
│                                           私有化部署    │
└──────────────────────────────────────────────────────────┘
```

### 5.3 核心流程

**注册流程:**
```
1. 用户选择注册方式
   ├─ 手机号注册: 输入手机号 → 验证码验证 → 设置密码 → 完成
   └─ OAuth注册: 授权登录 → 绑定手机号 → 完成

2. 系统初始化
   ├─ 创建用户账号(免费版)
   ├─ 生成JWT Token
   └─ 返回用户信息
```

**会员升级流程:**
```
1. 用户选择会员套餐
2. 选择支付方式(微信/支付宝/PayPal)
3. 完成支付
4. 系统自动升级会员等级
5. 发送开通通知
```

**功能访问控制:**
- 每次操作前检查用户会员等级
- 根据会员等级控制功能访问和配额
- 超出配额时提示升级会员
- 会员到期自动降级为免费版

### 5.4 安全措施

- 🔒 密码bcrypt加密存储
- 🔒 JWT Token认证,7天有效期
- 🔒 登录失败5次锁定30分钟
- 🔒 敏感操作需要二次验证
- 🔒 完整的操作审计日志

> **详细设计文档:** 查看 `docs/用户认证与会员系统设计.md` 了解完整的技术方案

---

## ⚙️ 模块 6: 管理员后台系统

### 核心功能
为管理员提供强大的后台管理系统,支持用户管理、系统配置和数据分析。

### 6.1 用户管理功能

**核心能力:**
- ✅ 用户增删改查
- ✅ 会员等级手动设置
- ✅ 重置用户密码
- ✅ 账号封禁/解封
- ✅ 用户数据统计
- ✅ 批量操作支持

**典型操作场景:**
```
场景1: 处理用户投诉
→ 查看用户详情 → 分析使用记录 → 延长会员时间作为补偿

场景2: 封禁违规账号
→ 查看违规内容 → 填写封禁原因 → 设置封禁时长 → 清理数据

场景3: 人工升级会员
→ 选择用户 → 修改会员等级 → 设置有效期 → 填写操作原因
```

### 6.2 系统配置功能

**AI模型配置:**
- ✅ 支持多个AI提供商(OpenAI/Claude/Gemini)
- ✅ 灵活的模型参数配置
- ✅ 成本控制和配额管理
- ✅ 备用模型自动切换
- ✅ Prompt模板版本管理

**功能开关:**
- ✅ 核心功能开关控制
- ✅ 高级功能分级开放
- ✅ 第三方集成开关
- ✅ 全站维护模式

**限流配置:**
- ✅ IP级别限流
- ✅ 会员等级配额设置
- ✅ AI调用频率控制
- ✅ 成本保护机制

**第三方服务:**
- ✅ 邮件服务配置
- ✅ 短信服务配置
- ✅ 支付接口配置
- ✅ 对象存储配置

### 6.3 数据统计分析

**核心指标:**
```
┌─────────────────────────────────┐
│  今日数据                        │
├─────────────────────────────────┤
│  • 新增用户: 156 ▲12%           │
│  • 活跃用户: 2,345 ▼5%          │
│  • 付费转化: 23 ▲8%             │
│  • 收入: ¥2,987 ▲15%            │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│  本月统计                        │
├─────────────────────────────────┤
│  • 工具分析: 43,567次           │
│  • 文案生成: 89,234次           │
│  • API调用: 125,678次           │
│  • 导出文件: 23,456次           │
└─────────────────────────────────┘
```

**报表功能:**
- 📊 用户增长趋势图
- 📊 收入分析报表
- 📊 功能使用统计
- 📊 会员分布图
- 📊 支持导出Excel/PDF

### 6.4 权限管理

**角色体系:**
```
超级管理员 (Super Admin)
  └─ 所有权限

运营管理员 (Operations Manager)
  └─ 用户管理、内容审核、运营工具

技术管理员 (Technical Manager)
  └─ 系统配置、AI管理、日志查询

客服人员 (Customer Service)
  └─ 查看用户信息、处理工单

数据分析员 (Data Analyst)
  └─ 只读权限,查看统计数据
```

**安全特性:**
- 🔐 独立的管理员认证系统
- 🔐 双因素认证(2FA)
- 🔐 IP白名单限制
- 🔐 敏感操作二次确认
- 🔐 完整的操作审计日志
- 🔐 异常登录告警

### 6.5 日志与监控

**操作日志:**
- 记录所有管理员操作
- 记录修改前后的数据
- 支持按时间/操作人/操作类型筛选
- 支持导出审计报告

**系统告警:**
- AI调用失败率告警
- 数据库连接数告警
- 每日花费超限告警
- 异常登录告警
- 支持多种通知方式(邮件/短信/企业微信)

> **详细设计文档:** 查看 `docs/管理员后台系统设计.md` 了解完整的功能设计和技术实现

---

## 🎬 下一步行动

### 第一阶段: 基础功能开发 (2-3周)
1. **[ ] 评审本文档** - 确认产品方向和功能范围
2. **[ ] 确定技术栈** - 选择具体的框架和工具
3. **[ ] 搭建开发环境** - 初始化项目
4. **[ ] 开发核心功能** - 工具分析、人群拆解、文案生成(MVP)
5. **[ ] 内部测试** - 验证核心价值

### 第二阶段: 用户系统开发 (1-2周)
1. **[ ] 用户认证系统** - 注册、登录、OAuth集成
2. **[ ] 会员订阅系统** - 会员等级、支付对接、权限控制
3. **[ ] 用户中心页面** - 个人信息、使用统计、历史记录

### 第三阶段: 管理后台开发 (1-2周)
1. **[ ] 用户管理功能** - 增删改查、会员管理、封禁
2. **[ ] 系统配置功能** - AI模型配置、功能开关、限流
3. **[ ] 数据统计功能** - 仪表盘、报表、导出

### 第四阶段: 优化与上线 (1周)
1. **[ ] 性能优化** - 接口优化、缓存策略
2. **[ ] 安全加固** - 漏洞扫描、安全测试
3. **[ ] 灰度发布** - 小范围测试
4. **[ ] 正式上线** - 开放注册、推广

**总预计时间: 5-8周**

**让我们开始吧!** 🚀
